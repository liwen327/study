<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>动态创建弹出层</title>
    <style>
        *{margin:0; padding:0;}
        #popup{width:300px; height: 300px; position: absolute; /*top:50%; left:50%; margin:-150px 0 0 -150px;*/ border: solid 1px #ccc; z-index: 20;}
        #close{ position: absolute; right: 0; top:0; cursor: pointer;}
        #mask{ position: fixed; width:100%; height:100%; background: #333;  opacity: 0.5; z-index: 1; display: none;}
    </style>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script>
        $(function()
        {
            var inpt = $("#input1");
            inpt.click(function()
            {
                /*var mask = $('<div id="mask">a</div> ');
                $("body").append(mask);
                mask.width($(window).width());
                mask.height($(window).height());
                console.log($(window).width());*/
                var pop = $('<div id="popup"><div class="pop_c">这里是弹出层</div><div id="close">X</div></div>');
                $("body").append(pop);
                pop.css('left',($(window).width() - pop.outerWidth())/2 );
                pop.css('top',($(window).height() - pop.outerHeight())/2 );



                $(window).on('scroll resize',function()
                {
                    pop.css('left',($(window).width() - pop.outerWidth())/2 );
                    pop.css('top',($(window).height() - pop.outerHeight())/2 + $(window).scrollTop() );

                })

                $("#mask").show();

                $("#close").click(function()
                {
                    pop.remove();
                    $("#mask").hide();
                });

            });

        })
    </script>
</head>
<body>
<input type="button" value="点击弹出弹层" id="input1"/>
<!--<div id="popup">
    <div class="pop_c">这里是弹出层</div>
    <div id="close">X</div>
</div>-->
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p><p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>
<p>aa</p>


<div id="mask"></div>






</body>
</html>