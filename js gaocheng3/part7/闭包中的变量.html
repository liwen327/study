<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>闭包中的变量</title>
</head>
<script type="text/javascript">
    /*function creatFun()
    {
        var result = [];
        for(var i=0; i<10; i++)
        {
            result[i]=function()
            {
                return i;
            }
        }
        return result;
    }
    creatFun();
    console.log(creatFun());
    alert(creatFun());*/

    //闭包中的函数可以访问到其外部函数中的变量
    /*function init()
    {
        var name = "mike";
        function sayName()
        {
            alert(name);
        }
        sayName();
    }
    init();    //mike*/

    //变量x与y求和
    function makeAdder(x)
    {
        return function(y)
        {
            return x + y;
        }
    }

    var add1 = makeAdder(5);
    var add2 = makeAdder(10);
    alert(add1(2));
    alert(add2(2));

    /*在这个示例中，我们定义了makeAdder(x)函数：带有一个x参数并返回一个带有y参数的新函数，新函数返回x和y的和。从本质上讲，makeAdder是一个函数工厂——创建将指定的值与它的参数求和的函数，
    上面示例中，我们创建了两个新函数——一个将其参数和5求和，另一个和10求和。
    add1和add2都是闭包。它们共享了相同的函数定义，但是保存了不同的环境，在add1环境中，x为5，而在add2环境中，x为10。*/
</script>
<body>

</body>
</html>