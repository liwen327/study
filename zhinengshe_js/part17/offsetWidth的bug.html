<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>offsetWidth的bug</title>
    <style>
        div{ width:100px; height: 50px; background: red; margin: 10px; border: solid 1px black; padding:30px;}
    </style>
    <script>
        /*setInterval(function(){
         var oDiv = document.getElementById("div1");
         oDiv.style.width = oDiv.offsetWidth -1 + "px";
         //当给div一个边框的话，那它的offsetWidth就会是202px，那它减去1的话就会是width再增加1，所以才会出现它的宽度不但不会减小还会不断增加的效果。
         //因为offsetWidth 获取的是div的盒子模型的宽度，即把所有的padding,margin,border都加上之后的宽度。
         },30)*/

        //所以要借助之前学的getStyle()那个方法。
        function getStyle(obj,name)
        {
            if(obj.currentStyle)
            {
                return obj.currentStyle[name];
            }
            else
            {
                return getComputedStyle(obj,false)[name];
            }
        }
        setInterval(function(){
            var oDiv = document.getElementById("div1");
            oDiv.style.width = parseInt(getStyle(oDiv,'width')) - 1 + "px";
        },30)
    </script>
</head>
<body>
<div id="div1">1</div>

</body>
</html>