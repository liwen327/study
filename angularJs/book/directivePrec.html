<!doctype html>
<html lang = "en" ng-app = "myAppDirective01">
    <head>
        <meta charset = "utf-8">
        <title>My directive Practice1</title>
    </head>
    <body ng-controller="MyCtrl">
    <!--user>test</user><user>test</user-->
    <div>
        <p></p>
    </div>
    <user name = "JIANGGUOYE" java js></user>
    <user name = "ZHANGWANG" java c></user>



    <!--<script src = "lib/angular.js"></script>-->
    <script src = "../js/angular.min.js"></script>
    <script language="javascript">
       var myApp = angular.module("myAppDirective01",[]);
       myApp.controller("MyCtrl",["$scope",function($scope){

       }]);
        myApp.directive("user",function(){
            return{
                scope:{
                    "name":"@"
                },
                restrict:'E',   //element
                replace:true, //使用模板替换原始标记
                //require:'', //继承父指令
                //transclude: true, //说明自定义指令是否复制原始标记中的内容
                //template:'<span>333123</span>'  //替代原始模板中的标记的字符串

                controller:function($scope) {
                    $scope.skills = [];
                    this.AddJava = function () {
                        $scope.skills.push("java");
                    };
                    this.AddJS = function () {
                        $scope.skills.push("js");
                    };
                    this.AddC = function () {
                        $scope.skills.push("c");
                    };
                },
                template:'<span><span>{{name}}</span><br/></span>',
                link:function(scope,elem,attr){
                    elem.bind("click",function(){
                        console.log(scope.skills);
                    });
                }

            }
        });
        myApp.directive("java", function (){
            return{
                restrict:"A",    //attribute 属性
                require:['^user'],
                replace:true,

                link:function(scope,elem,attr,controller){
                        controller[0].AddJava();
                }

            }
        });
       myApp.directive("js", function (){
           return{
               restrict:"A",
               require:['^user'],
               replace:true,
               link:function(scope,elem,attrs,controller){
                   controller[0].AddJS();
               }

           }
       });
       myApp.directive("c", function (){
           return{
               restrict:"A",
               require:['^user'],
               replace:true,
               link:function(scope,elem,attrs,controller){
                   controller[0].AddC();
               }

           }
       });
    </script>
    </body>
</html>








<!--
<body ng-controller="MainCtrl">
<input type="text" ng-model="color" placeholder="Enter a color" />
<hello-world/>
</body>

app.directive('helloWorld', function() {
return {
restrict: 'AE',
replace: true,
template: '<p style="background-color:{{color}}">Hello World',
link: function(scope, elem, attrs) {
elem.bind('click', function() {
elem.css('background-color', 'white');
scope.$apply(function() {
scope.color = "white";
});
});
elem.bind('mouseover', function() {
elem.css('cursor', 'pointer');
});
}    };  });
-->