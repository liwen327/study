<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../js/angular.min.js"></script>
    <script>
        var app = angular.module('myApp',[]);
        app.directive('clickable', function() {
            return {
                restrict: "E",
                scope: {
                    foo: '=',
                    bar: '='
                },
                template: '<ul style="background-color: lightblue"><li>{{foo}}</li><li>{{bar}}</li></ul>',
                link: function(scope, element, attrs) {
                    element.on('click', function() {
                        scope.$apply(function()
                        {
                            scope.foo++;
                            scope.bar++;
                        })
                    });
                }
            }
        });
        app.controller('myCtrl', function($scope) {
            $scope.foo = 0;
            $scope.bar = 0;
        });
    </script>
</head>
<body>
<!--使用$watch()来监视你自己的东西-->
<div ng-app="myApp" ng-controller="myCtrl">
    <clickable foo="foo" bar="bar"></clickable>
    <hr/>
    {{hello}} <button ng-click="setHello()">change hello</button>
</div>

</body>
</html>